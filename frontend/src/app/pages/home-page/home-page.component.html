<div class="flex h-dvh flex-col">
  <div
    class="flex items-center justify-center p-4 text-white"
    [style]="{ backgroundColor: 'var(--primary-500)' }"
  >
    <span class="text-2xl font-bold">My Tasks</span>
  </div>
  @if (isTasksReady) {
    @if (tasks.length > 0) {
      <div
        class="flex flex-grow flex-col gap-4 overflow-y-auto p-8"
        [style]="{ backgroundColor: 'var(--surface-100)' }"
      >
        @for (task of tasks; track task.id) {
          <div class="flex flex-row items-start gap-4 rounded-xl bg-white p-4">
            <p-checkbox
              [(ngModel)]="checkedTaskIDs"
              [value]="task.id"
              [readonly]="isTaskCompleting"
              (onChange)="onChangeTaskCheckbox(task)"
            />
            <span class="min-w-0 break-words text-lg leading-6">
              {{ task.title }}
            </span>
          </div>
        }
      </div>
    } @else {
      <div
        class="flex flex-grow items-center justify-center"
        [style]="{ backgroundColor: 'var(--surface-100)' }"
      >
        <span class="text-xl">No tasks! Happy!</span>
      </div>
    }
  }
</div>

<page-add-task-button
  class="absolute bottom-4 right-4 z-10"
  (onComplete)="onCompleteAddTask()"
></page-add-task-button>
