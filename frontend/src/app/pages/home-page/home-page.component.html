<div class="flex h-screen flex-col">
  <div
    [ngStyle]="{ backgroundColor: 'var(--primary-500)' }"
    class="flex items-center justify-center p-4 text-white"
  >
    <h1 class="text-2xl font-bold">My Tasks</h1>
  </div>
  @if (isTasksReady) {
    @if (tasks.length > 0) {
      <div
        [ngStyle]="{ backgroundColor: 'var(--surface-100)' }"
        class="flex grow flex-col gap-4 overflow-y-auto p-4"
      >
        <div
          *ngFor="let task of tasks"
          class="flex flex-row items-start gap-4 rounded-xl bg-white p-4"
        >
          <p-checkbox
            [(ngModel)]="checkedTaskIDs"
            [value]="task.id"
            [disabled]="isTaskCompleting"
            (onChange)="onChangeTaskCheckbox(task)"
          />
          <p class="min-w-0 break-words text-lg leading-6">
            {{ task.title }}
          </p>
        </div>
      </div>
    } @else {
      <div
        [ngStyle]="{ backgroundColor: 'var(--surface-100)' }"
        class="flex grow items-center justify-center"
      >
        <p class="text-xl">No tasks! Happy!</p>
      </div>
    }
  }
</div>
<div
  [ngStyle]="
    isAddTaskButtonHovered
      ? { backgroundColor: 'var(--primary-600)' }
      : { backgroundColor: 'var(--primary-500)' }
  "
  class="absolute bottom-4 right-4 z-10 flex h-16 w-16 cursor-pointer items-center justify-center rounded-full text-white"
  pRipple
  (mouseover)="isAddTaskButtonHovered = true"
  (mouseleave)="isAddTaskButtonHovered = false"
  (click)="onClickAddTaskButton()"
>
  <div class="text-4xl font-bold">ï¼‹</div>
</div>
<p-dialog header="Add task" [modal]="true" [(visible)]="isAddTaskDialogVisible">
  <div class="mb-6">
    <p>TODO</p>
  </div>
  <div class="flex flex-row justify-end gap-4">
    <p-button
      label="Cancel"
      severity="secondary"
      (click)="isAddTaskDialogVisible = false"
    />
    <p-button label="Add" (click)="onSubmitAddTaskForm()" />
  </div>
</p-dialog>
